<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Live Dashboard with Flip Clock, Date, Marquee & Particles</title>
<style>
html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    background: #121212;
    font-family: 'Arial', sans-serif;
    color: white;
    overflow: hidden;
}

/* Particle container */
#tsparticles {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
}

/* Top Bar */
.top-bar {
    position: relative;
    z-index: 2;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: #1f1f1f;
    padding: 6px 15px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.5);
}
.top-bar h1 {
    margin: 0;
    font-size: 18px;
}

/* Date */
#today-date {
    font-size: 14px;
    color: #00ffcc;
    text-shadow: 0 0 8px #00ffcc, 0 0 20px #00ffcc;
    margin-bottom: 2px;
}

/* Flip Clock */
.flip-clock {
    display: flex;
    gap: 6px;
    align-items: center;
}
.flip-digit {
    position: relative;
    width: 40px;
    height: 50px;
    background: #222;
    border-radius: 6px;
    overflow: hidden;
    perspective: 1000px;
    box-shadow: 0 0 8px #00ffcc;
}
.flip-digit span {
    display: block;
    width: 100%;
    height: 100%;
    line-height: 50px;
    font-size: 22px;
    font-weight: bold;
    text-align: center;
    color: #00ffcc;
    background: #222;
    backface-visibility: hidden;
    position: absolute;
    top: 0;
    left: 0;
    transform-origin: top;
    text-shadow: 0 0 6px #00ffcc, 0 0 15px #00ffcc;
}
.flip-digit span.back {
    transform: rotateX(180deg);
}
.flip-digit.flip span.front {
    animation: flipFront 0.5s forwards;
}
.flip-digit.flip span.back {
    animation: flipBack 0.5s forwards;
}
@keyframes flipFront {
    0% { transform: rotateX(0deg); }
    100% { transform: rotateX(-180deg); }
}
@keyframes flipBack {
    0% { transform: rotateX(180deg); }
    100% { transform: rotateX(0deg); }
}

/* Marquee */
.marquee {
    background: rgba(0, 255, 204, 0.1);
    color: #00ffcc;
    white-space: nowrap;
    overflow: hidden;
    box-shadow: 0 2px 6px rgba(0,0,0,0.5);
    z-index: 2;
    position: relative;
}
.marquee p {
    display: inline-block;
    padding-left: 100%;
    animation: scroll-left 15s linear infinite;
    font-size: 14px;
}
@keyframes scroll-left {
    0% { transform: translateX(0); }
    100% { transform: translateX(-100%); }
}

/* Dashboard */
.dashboard {
    position: relative;
    z-index: 1;
    display: flex;
    flex: 1;
    height: calc(100vh - 100px);
    gap: 20px;
    padding: 20px;
    justify-content: center;
}
.report-container {
    flex: 0 0 45%;
    display: flex;
    flex-direction: column;
    background: rgba(31, 31, 31, 0.85);
    border-radius: 10px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.5);
    overflow: hidden;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    max-height: 750px;
}
.report-container:hover {
    transform: scale(1.02);
    box-shadow: 0 6px 20px rgba(0,0,0,0.7);
}
iframe {
    border: none;
    width: 100%;
    height: 100%;
}
h2 {
    margin: 0;
    padding: 8px;
    background: rgba(0,0,0,0.8);
    color: #f0f0f0;
    font-size: 16px;
    text-align: center;
}

/* Responsive */
@media (max-width: 900px) {
    .dashboard {
        flex-direction: column;
        height: auto;
        gap: 15px;
        padding: 15px;
        align-items: center;
    }
    .report-container {
        flex: 0 0 95%;
        max-height: 500px;
    }
    .flip-digit {
        width: 35px;
        height: 45px;
    }
    .flip-digit span {
        font-size: 18px;
        line-height: 45px;
    }
    #today-date {
        font-size: 12px;
    }
}
</style>
</head>
<body>

<!-- Particle Background -->
<div id="tsparticles"></div>

<!-- Top Bar -->
<div class="top-bar">
    <h1>ðŸ“Š Live Dashboard</h1>
    <div>
        <div id="today-date"></div>
        <div class="flip-clock" id="flipClock"></div>
    </div>
</div>

<!-- Marquee -->
<div class="marquee">
    <p>Welcome to the Live Dashboard â€” Reports refresh every 15 minutes â€” Please ensure all trackers are up to date.</p>
</div>

<!-- Dashboard -->
<div class="dashboard">
    <div class="report-container">
        <h2>ðŸ“Š Report 1</h2>
        <iframe id="looker1" src="https://lookerstudio.google.com/embed/reporting/b91b3733-131d-41b1-9fd2-b4faff346716/page/B0VUF" allowfullscreen></iframe>
    </div>
    <div class="report-container">
        <h2>ðŸ“Š Report 2</h2>
        <iframe id="looker2" src="https://lookerstudio.google.com/embed/reporting/21fc4ba8-58a5-4d84-b56d-ec0e74b8ae18/page/WfMUF" allowfullscreen></iframe>
    </div>
</div>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/tsparticles@2/tsparticles.bundle.min.js"></script>
<script>
// Particle background
tsParticles.load("tsparticles", {
  fpsLimit: 60,
  background: { color: "transparent" },
  particles: {
    number: { value: 80, density: { enable: true, area: 800 } },
    color: { value: "#00ffcc" },
    shape: { type: "circle" },
    opacity: { value: 0.4, random: true },
    size: { value: 3, random: true },
    move: { enable: true, speed: 1 },
    links: { enable: true, distance: 150, color: "#00ffcc", opacity: 0.2, width: 1 }
  },
  interactivity: {
    events: { onHover: { enable: true, mode: "repulse" } },
    modes: { repulse: { distance: 100 } }
  },
  detectRetina: true
});

// Auto-refresh reports every 15 mins
setInterval(()=>{
    const iframe1 = document.getElementById('looker1');
    iframe1.src = iframe1.src.split('?')[0] + '?t=' + new Date().getTime();
}, 900000);
setInterval(()=>{
    const iframe2 = document.getElementById('looker2');
    iframe2.src = iframe2.src.split('?')[0] + '?t=' + new Date().getTime();
}, 900000);

// Date
function updateDate() {
    const now = new Date();
    const options = { timeZone: 'Asia/Manila', weekday:'long', year:'numeric', month:'long', day:'numeric' };
    document.getElementById('today-date').textContent = now.toLocaleDateString('en-PH', options);
}
setInterval(updateDate, 60000);
updateDate();

// Flip Clock (24hr)
function createFlipDigit() {
    const digit = document.createElement('div');
    digit.className = 'flip-digit';
    const front = document.createElement('span');
    front.className = 'front';
    front.textContent = '0';
    const back = document.createElement('span');
    back.className = 'back';
    back.textContent = '0';
    digit.appendChild(front);
    digit.appendChild(back);
    return digit;
}

const clockContainer = document.getElementById('flipClock');
const digits = [];
for(let i=0;i<4;i++){
    const digit = createFlipDigit();
    clockContainer.appendChild(digit);
    if(i===1){
        const colon = document.createElement('span');
        colon.textContent = ':';
        colon.style.margin = '0 3px';
        colon.style.fontSize = '20px';
        colon.style.color = '#00ffcc';
        colon.style.textShadow = '0 0 6px #00ffcc, 0 0 15px #00ffcc';
        clockContainer.appendChild(colon);
    }
    digits.push(digit);
}

function updateClock() {
    const now = new Date();
    let options = { timeZone: 'Asia/Manila', hour12: false, hour: '2-digit', minute: '2-digit' };
    let hhmm = now.toLocaleTimeString('en-PH', options).replace(':','');
    for(let i=0;i<digits.length;i++){
        const front = digits[i].querySelector('.front');
        const back = digits[i].querySelector('.back');
        if(front.textContent !== hhmm[i]){
            back.textContent = hhmm[i];
            digits[i].classList.add('flip');
            setTimeout(()=>{front.textContent = hhmm[i]; digits[i].classList.remove('flip');},500);
        }
    }
}
setInterval(updateClock,1000);
updateClock();
</script>
</body>
</html>
